DROP TABLE IF EXISTS `closure`;
CREATE TABLE `closure` (
  `ancestor` int(10) unsigned NOT NULL DEFAULT 0,
  `descendant` int(10) unsigned NOT NULL DEFAULT 0,
  `node_depth` tinyint(3) unsigned NOT NULL DEFAULT 0,
  PRIMARY KEY (`ancestor`,`descendant`) USING BTREE
) ENGINE=MyISAM DEFAULT CHARSET=utf8mb4;

INSERT INTO `closure` (`ancestor`, `descendant`, `node_depth`) VALUES
	(1, 1, 0),
	(1, 2, 1),
	(1, 3, 1),
	(1, 4, 1),
	(1, 5, 2),
	(1, 6, 2),
	(1, 7, 2),
	(1, 8, 3),
	(1, 9, 4),
	(1, 10, 4),
	(1, 11, 5),
	(1, 12, 5),
	(1, 13, 5),
	(2, 2, 1),
	(3, 3, 1),
	(3, 5, 2),
	(3, 6, 2),
	(3, 7, 2),
	(3, 8, 3),
	(3, 9, 4),
	(3, 10, 4),
	(3, 11, 5),
	(3, 12, 5),
	(3, 13, 5),
	(4, 4, 1),
	(5, 5, 2),
	(5, 8, 3),
	(5, 9, 4),
	(5, 10, 4),
	(5, 11, 5),
	(5, 12, 5),
	(5, 13, 5),
	(6, 6, 2),
	(7, 7, 2),
	(8, 8, 3),
	(8, 9, 4),
	(8, 10, 4),
	(8, 11, 5),
	(8, 12, 5),
	(8, 13, 5),
	(9, 9, 4),
	(9, 11, 5),
	(9, 12, 5),
	(9, 13, 5),
	(10, 10, 4),
	(11, 11, 5),
	(12, 12, 5),
	(13, 13, 5);

DROP TABLE IF EXISTS `nodes`;
CREATE TABLE `nodes` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `parent` int(10) unsigned NOT NULL DEFAULT 0,
  `sort_order` smallint(5) unsigned NOT NULL DEFAULT 0,
  `name` varchar(255) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `parent` (`parent`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8mb4;

INSERT INTO `nodes` (`id`, `parent`, `sort_order`, `name`) VALUES
	(1, 0, 1, 'Главная'),
	(2, 0, 3, 'О компании'),
	(3, 0, 2, 'Продукция'),
	(4, 0, 4, 'Контакты'),
	(5, 3, 0, 'Мыло'),
	(6, 3, 0, 'Скраб'),
	(7, 3, 0, 'Свечи'),
	(8, 5, 0, 'Крафтовое'),
	(9, 8, 0, 'Лечебное'),
	(10, 8, 0, 'Уходовое'),
	(11, 9, 2, 'Для сухой кожи'),
	(12, 9, 3, 'Для жирной кожи'),
	(13, 9, 1, 'Для нормальной кожи');
